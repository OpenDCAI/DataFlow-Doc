import{_ as e,c as i,a,o as t}from"./app-RmE5kr10.js";const n={};function r(o,s){return t(),i("div",null,s[0]||(s[0]=[a(`<h2 id="_1-project-overview" tabindex="-1"><a class="header-anchor" href="#_1-project-overview"><span>1. Project Overview</span></a></h2><p><strong>DataFlow-Agent</strong> is an intelligent Agent framework built around &quot;data flow / workflow&quot;, with the following goals:</p><ul><li>Decompose complex natural language tasks into a series of composable <strong>Node / Tool / Workflow</strong> components;</li><li>Through a unified <code>BaseAgent</code> abstraction and multiple execution modes (Simple / ReAct / Graph / VLM), enable Agents to execute tasks stably in different scenarios;</li><li>Support upper-layer Gradio frontend, pipeline orchestration, graph-based workflows, and other usage methods.</li></ul><p>The overall architecture is organized around the following core layers:</p><ul><li><strong>Agent Layer (<code>dataflow_agent.agentroles</code>)</strong>: Specific intelligent roles, such as <code>Classifier</code>, <code>PipelineBuilder</code>, <code>Writer</code>, <strong><code>Recommender</code></strong>, etc. Each role is a subclass of <code>BaseAgent</code>.</li><li><strong>Execution Core Layer (<code>dataflow_agent.agentroles.cores</code>)</strong>: Unified Agent configuration and execution strategies (<code>configs.py</code> + <code>strategies.py</code>), providing Simple / ReAct / Graph / VLM execution modes for Agents.</li><li><strong>LLM &amp; Parser Layer (<code>dataflow_agent.llm_callers</code>, <code>dataflow_agent.parsers</code>)</strong>: Abstracts differences in specific models and return formats, supports text and multimodal (vision-language) calls, and parses LLM outputs through unified parsers.</li><li><strong>Tool &amp; Workflow Layer (<code>dataflow_agent.toolkits</code>, <code>dataflow_agent.workflow</code>)</strong>: Defines various tools and pipeline workflows, decomposing complex tasks into reusable components.</li><li><strong>State &amp; Prompt Layer (<code>dataflow_agent.state</code>, <code>dataflow_agent.promptstemplates</code>)</strong>: Unified request/intermediate state representation, generates system prompts and task prompts through templated prompts, and manages conversation history.</li></ul><h2 id="_2-architecture-design-principles" tabindex="-1"><a class="header-anchor" href="#_2-architecture-design-principles"><span>2. Architecture Design Principles</span></a></h2><h3 id="_1-modular-design" tabindex="-1"><a class="header-anchor" href="#_1-modular-design"><span>1. Modular Design</span></a></h3><ul><li><strong>Separation of Concerns</strong>: Each component focuses on a single responsibility, such as Agent for task execution and State for state management</li><li><strong>Plugin Architecture</strong>: Supports plugin-style registration and dynamic loading of Agents, Workflows, and Tools</li><li><strong>Interface Abstraction</strong>: Defines standard interfaces through abstract base classes to ensure loose coupling between components</li></ul><h3 id="_2-state-driven" tabindex="-1"><a class="header-anchor" href="#_2-state-driven"><span>2. State-Driven</span></a></h3><ul><li><strong>Unified State Management</strong>: All processes are based on state objects for data transfer and state maintenance</li><li><strong>Type Safety</strong>: Uses dataclass and type annotations to ensure type safety of state data</li><li><strong>Task-Specific States</strong>: Provides specialized state class extensions for different task types</li></ul><h3 id="_3-strategy-pattern" tabindex="-1"><a class="header-anchor" href="#_3-strategy-pattern"><span>3. Strategy Pattern</span></a></h3><ul><li><strong>Execution Strategy Abstraction</strong>: Supports multiple execution modes (Simple, ReAct, Graph, VLM)</li><li><strong>Strategy Factory</strong>: Dynamically creates and switches execution strategies</li><li><strong>Configuration-Driven</strong>: Controls strategy behavior through configuration objects</li></ul><h3 id="_4-extensibility" tabindex="-1"><a class="header-anchor" href="#_4-extensibility"><span>4. Extensibility</span></a></h3><ul><li><strong>Decorator Registration</strong>: Simplifies component registration process using decorators</li><li><strong>Auto-Discovery</strong>: Implements automatic component registration through <code>__init_subclass__</code></li><li><strong>Template System</strong>: Provides code generation templates to simplify new component development</li></ul><h2 id="_3-agent-system-agentroles" tabindex="-1"><a class="header-anchor" href="#_3-agent-system-agentroles"><span>3. Agent System (<code>agentroles/</code>)</span></a></h2><h4 id="baseagent-core-architecture" tabindex="-1"><a class="header-anchor" href="#baseagent-core-architecture"><span>BaseAgent Core Architecture</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> BaseAgent</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">ABC</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # Automatic registration mechanism</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init_subclass__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">cls</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> **</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">kwargs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # Automatically register to AgentRegistry</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        pass</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # Strategy pattern support</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> execution_config</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Optional</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">Any</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> execution_config</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">            self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">_execution_strategy </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> StrategyFactory</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">create</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">                execution_config</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">mode</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">value</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> execution_config</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            )</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="execution-mode-support" tabindex="-1"><a class="header-anchor" href="#execution-mode-support"><span>Execution Mode Support</span></a></h4><ol><li><strong>Simple Mode</strong>: Single LLM call, simple and direct</li><li><strong>ReAct Mode</strong>: Loop execution with validation, ensures output quality</li><li><strong>Graph Mode</strong>: Subgraph + tool calls, supports complex interactions</li><li><strong>VLM Mode</strong>: Specialized processing for vision-language models</li></ol><h4 id="agent-as-tool-functionality" tabindex="-1"><a class="header-anchor" href="#agent-as-tool-functionality"><span>Agent-as-Tool Functionality</span></a></h4><ul><li><strong>Tool Wrapping</strong>: Wraps Agent as callable tool</li><li><strong>Parameter Mapping</strong>: Automatically handles mapping from tool parameters to Agent parameters</li><li><strong>Result Extraction</strong>: Extracts tool execution results from state</li></ul>`,21)]))}const p=e(n,[["render",r]]),h=JSON.parse('{"path":"/en/guide/agent/agent_for_data/","title":"Agent-Data Governance","lang":"en-US","frontmatter":{"title":"Agent-Data Governance","icon":"material-symbols:robot-2-outline","createTime":"2025/06/17 15:56:00","permalink":"/en/guide/agent/agent_for_data/"},"readingTime":{"minutes":1.63,"words":488},"git":{"createdTime":1750154453000,"updatedTime":1764317574000,"contributors":[{"name":"Hao Liang","username":"","email":"hao.liang@stu.pku.edu.cn","commits":1,"avatar":"https://gravatar.com/avatar/105bae3e8661728b9f2f5440992b04f5f28459b66a049d09b52213ce1438f6bc?d=retro"},{"name":"HeRunming","username":"HeRunming","email":"2100010636@stu.pku.edu.cn","commits":1,"avatar":"https://avatars.githubusercontent.com/HeRunming?v=4","url":"https://github.com/HeRunming"},{"name":"Ma, Xiaochen","username":"","email":"mxch1122@126.com","commits":1,"avatar":"https://gravatar.com/avatar/c86bc98abf428aa442dfc12c76e70e324a551ebc637e5ed6634d60fbd3811221?d=retro"},{"name":"DeepThinkingZhouLiu","username":"DeepThinkingZhouLiu","email":"58026542+DeepThinkingZhouLiu@users.noreply.github.com","commits":1,"avatar":"https://avatars.githubusercontent.com/DeepThinkingZhouLiu?v=4","url":"https://github.com/DeepThinkingZhouLiu"},{"name":"pzp5700","username":"pzp5700","email":"pzp0057@sjtu.edu.cn","commits":1,"avatar":"https://avatars.githubusercontent.com/pzp5700?v=4","url":"https://github.com/pzp5700"}]},"filePathRelative":"en/notes/guide/agent/agent_for_data.md","headers":[]}');export{p as comp,h as data};

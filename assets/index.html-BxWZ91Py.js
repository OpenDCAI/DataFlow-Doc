import{_ as s}from"./github_pr_process-CtGd1FDg.js";import{_ as a,c as e,a as l,o as n}from"./app-RmE5kr10.js";const h={};function t(r,i){return n(),e("div",null,i[0]||(i[0]=[l('<h2 id="一、总体原则" tabindex="-1"><a class="header-anchor" href="#一、总体原则"><span>一、总体原则</span></a></h2><p>本项目采用 <strong>GitHub Flow</strong> 作为主要协作模式，所有代码修改 <strong>必须通过 Pull Request（PR）</strong> 合并到主分支。</p><p>核心原则如下：</p><ul><li><code>main</code>（或 <code>master</code>）分支始终保持 <strong>可随时发布</strong></li><li><strong>禁止</strong> 直接向官方仓库的 <code>main</code> 分支 push</li><li>每个功能 / 修复都应在 <strong>独立的 feature 分支</strong> 中完成</li><li>一个 PR 只做 <strong>一件清晰的事情</strong></li><li>PR 合并后，对应的 feature 分支应被删除</li></ul><hr><h2 id="二、整体流程说明-对应流程图" tabindex="-1"><a class="header-anchor" href="#二、整体流程说明-对应流程图"><span>二、整体流程说明（对应流程图）</span></a></h2><p><img src="'+s+`" alt=""></p><p>整个贡献流程分为 <strong>三个仓库 / 环境角色</strong>：</p><ol><li><strong>官方仓库（Official Repo）</strong></li><li><strong>你 Fork 的仓库（Your Forked Repo）</strong></li><li><strong>你的本地工作区（Local Workspace）</strong></li></ol><p>总体来说就是维护个人分支和主仓库分支平行发展。然后每次有新feature就要checkout branch后，加新Feature再发起PR，PR合并后，该分支即弃用。</p><hr><h2 id="三、首次贡献流程-创建第一个-pr" tabindex="-1"><a class="header-anchor" href="#三、首次贡献流程-创建第一个-pr"><span>三、首次贡献流程（创建第一个 PR）</span></a></h2><h3 id="_1-fork-官方仓库" tabindex="-1"><a class="header-anchor" href="#_1-fork-官方仓库"><span>1. Fork 官方仓库</span></a></h3><p>在 GitHub 上：</p><ul><li>打开官方仓库页面</li><li>点击右上角 <strong>Fork</strong></li><li>在你的账号下生成一个 Fork 仓库</li></ul><blockquote><p>后续所有 PR 都是 <strong>从你的 Fork → 官方仓库</strong></p></blockquote><hr><h3 id="_2-clone-你的-fork-到本地" tabindex="-1"><a class="header-anchor" href="#_2-clone-你的-fork-到本地"><span>2. Clone 你的 Fork 到本地</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your-nam</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">e</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">rep</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">o</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.git</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">rep</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">o</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>默认会得到：</p><ul><li>本地 <code>main</code> 分支</li><li>远程 <code>origin</code> 指向你的 Fork 仓库</li></ul><hr><h3 id="_3-基于-main-创建功能分支" tabindex="-1"><a class="header-anchor" href="#_3-基于-main-创建功能分支"><span>3. 基于 main 创建功能分支</span></a></h3><p><strong>不要直接在 main 分支开发</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pull</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature/xxx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>分支命名建议：</p><ul><li><code>feature/xxx</code>：新功能</li><li><code>fix/xxx</code>：Bug 修复</li><li><code>refactor/xxx</code>：重构</li><li><code>docs/xxx</code>：文档修改</li></ul><hr><h3 id="_4-开发-提交代码" tabindex="-1"><a class="header-anchor" href="#_4-开发-提交代码"><span>4. 开发 &amp; 提交代码</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feat: xxx 功能说明</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>提交信息建议遵循 Conventional Commits：</p><ul><li><code>feat:</code> 新功能</li><li><code>fix:</code> Bug 修复</li><li><code>docs:</code> 文档</li><li><code>refactor:</code> 重构</li><li><code>chore:</code> 杂项</li></ul><hr><h3 id="_5-推送分支到你的-fork" tabindex="-1"><a class="header-anchor" href="#_5-推送分支到你的-fork"><span>5. 推送分支到你的 Fork</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature/xxx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="_6-创建-pull-request" tabindex="-1"><a class="header-anchor" href="#_6-创建-pull-request"><span>6. 创建 Pull Request</span></a></h3><p>在 GitHub 页面：</p><ul><li>从 <strong>你的 feature 分支</strong></li><li>提交 PR 到 <strong>官方仓库的 main 分支</strong></li></ul><p>PR 描述中应包含：</p><ul><li>修改背景 / 目的</li><li>主要改动点</li><li>是否有破坏性变更</li><li>关联的 Issue（如有）</li></ul><hr><h2 id="四、pr-审核期间的更新流程-非常重要" tabindex="-1"><a class="header-anchor" href="#四、pr-审核期间的更新流程-非常重要"><span>四、PR 审核期间的更新流程（非常重要）</span></a></h2><blockquote><p><strong>只要 PR 还没被合并，就不要新开 PR</strong></p></blockquote><p>如果需要继续修改：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 仍然在同一个 feature 分支</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">fix: 根据 review 修改</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature/xxx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>✔ 新提交会 <strong>自动追加到当前 PR</strong> ✘ 不要重新创建 PR</p><hr><h2 id="五、pr-合并后的处理" tabindex="-1"><a class="header-anchor" href="#五、pr-合并后的处理"><span>五、PR 合并后的处理</span></a></h2><h3 id="_1-合并完成后" tabindex="-1"><a class="header-anchor" href="#_1-合并完成后"><span>1. 合并完成后</span></a></h3><ul><li>官方仓库 <code>main</code> 更新</li><li>你的 Fork 仓库 <code>main</code> <strong>不会自动更新</strong></li></ul><p>此时：</p><blockquote><p><strong>该 feature 分支已经完成使命，可以删除</strong></p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature/xxx</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>GitHub 页面也可以直接点击 <strong>Delete branch</strong></p><hr><h3 id="_2-同步官方-main-到你的-fork-推荐" tabindex="-1"><a class="header-anchor" href="#_2-同步官方-main-到你的-fork-推荐"><span>2. 同步官方 main 到你的 Fork（推荐）</span></a></h3><p>在 GitHub 页面：</p><ul><li>进入你 Fork 的仓库</li><li>点击 <strong>Sync fork</strong>（或 Update branch）</li></ul><p>或者本地方式（推荐高级用户）：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> upstream</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">officia</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">l</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">rep</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">o</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">.git</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> upstream</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> upstream/main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="六、后续再次贡献-第二个-第-n-个-pr" tabindex="-1"><a class="header-anchor" href="#六、后续再次贡献-第二个-第-n-个-pr"><span>六、后续再次贡献（第二个 / 第 N 个 PR）</span></a></h2><p>流程与第一次 <strong>完全一致</strong>：</p><ol><li>确保本地 <code>main</code> 是最新的</li><li>从 <code>main</code> 新建一个 <strong>新的 feature 分支</strong></li><li>开发 → push → 提 PR</li><li>审核 → 合并 → 删除分支</li></ol><p>❗ <strong>不要复用已经合并过的 feature 分支</strong></p><hr><h2 id="七、常见错误-注意事项" tabindex="-1"><a class="header-anchor" href="#七、常见错误-注意事项"><span>七、常见错误 &amp; 注意事项</span></a></h2><p>❌ 错误做法：</p><ul><li>直接在 <code>main</code> 分支开发</li><li>一个 PR 混合多个不相关修改</li><li>PR 已合并但分支继续复用</li><li>为了小修改新建多个 PR</li></ul><p>✅ 推荐做法：</p><ul><li>小步提交，PR 聚焦单一目标</li><li>PR 描述清晰，便于 Review</li><li>合并即清理分支</li><li>经常同步官方 main</li></ul><hr><h2 id="八、总结-一句话版" tabindex="-1"><a class="header-anchor" href="#八、总结-一句话版"><span>八、总结（一句话版）</span></a></h2><blockquote><p><strong>Fork 官方仓库 → 本地建 feature 分支 → 提 PR → Review → Merge → 删分支 → 同步 main</strong></p></blockquote>`,75)]))}const d=a(h,[["render",t]]),g=JSON.parse('{"path":"/zh/dev_guide/pull_request/","title":"Github 代码贡献规范","lang":"zh-CN","frontmatter":{"title":"Github 代码贡献规范","createTime":"2025/06/13 10:42:46","permalink":"/zh/dev_guide/pull_request/"},"readingTime":{"minutes":3.11,"words":932},"git":{"createdTime":1749786373000,"updatedTime":1766414998000,"contributors":[{"name":"MOLYHECI","username":"MOLYHECI","email":"molyheci@outlook.com","commits":2,"avatar":"https://avatars.githubusercontent.com/MOLYHECI?v=4","url":"https://github.com/MOLYHECI"},{"name":"Sunnyhaze","username":"Sunnyhaze","email":"mxch1122@126.com","commits":2,"avatar":"https://avatars.githubusercontent.com/Sunnyhaze?v=4","url":"https://github.com/Sunnyhaze"}]},"filePathRelative":"zh/notes/dev_guide/pull_request.md","headers":[]}');export{d as comp,g as data};

import{_ as i}from"./df_overview_final-C08BsQs8.js";import{_ as a,c as n,a as l,o as h}from"./app-RmE5kr10.js";const e={};function t(k,s){return h(),n("div",null,s[0]||(s[0]=[l('<h2 id="概述" tabindex="-1"><a class="header-anchor" href="#概述"><span>概述</span></a></h2><p>如图所示，DataFlow的图景是：</p><ul><li><p><strong>算子库 + Prompt库 + Pipeline库=&lt;DataFlow-Extension&gt;</strong></p><ul><li>成熟的算子，提示词和构成的pipeline构成一个又一个DataFlow-Extension，服务于具体的领域和任务。</li></ul></li><li><p><strong>&lt;DataFlow-Extension&gt; + ... + &lt;DataFlow-Extension&gt; = &lt;DataFlow-Ecosystem&gt;</strong></p><ul><li>通过Github仓库或者Pypi分发不同的<code>DataFlow-Extension</code>包含大量面向各种垂域和需求的成熟管线，即可构建完整的<code>DataFlow-Ecosystem</code>。用户可以分发，或者按需组合拿到自己想要的管线。</li></ul></li></ul><p><img src="'+i+`" alt=""></p><h2 id="命令行工具-dataflow-init-repo" tabindex="-1"><a class="header-anchor" href="#命令行工具-dataflow-init-repo"><span>命令行工具 dataflow init repo</span></a></h2><p>为了更好的供用户构建分发自己的Pipeline和对应的算子库，我们提供了基于命令行的“脚手架”工具来快速生成模板。可以在某个空路径下通过如下命令构建：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">dataflow</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> init</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> repo</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>启动该命令后，会有一系列询问来协助你自动构建一个可分发的仓库模板，含义如下：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">1/8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> repo_name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (my-dataflow-extension):  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 整个仓库文件夹的名字</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">2/8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> package_name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (my_dataflow_extension):  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Python Package的名字</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">3/8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> author</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (Your </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">): </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 你的姓名，会出现在Readme中和Python的project.toml中</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">4/8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> description</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (A </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DataFlow</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> extension</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> with</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> operator</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> +</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> prompt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> +</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pipeline</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">):  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 会简要的出现在Readme.md中</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">5/8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> init_version</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (0.0.1):  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Python包的起始版本</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">6/8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Select</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> license</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 开源协议</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Apache-2.0</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MIT</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> BSD-3-Clause</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Proprietary</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Choose</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [1/2/3/4] (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">): </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 默认Python版本，主要是大于等于该版本</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">7/8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Select</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> python_version</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.10</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.11</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.12</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Choose</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [1/2/3] (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">): </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 是否生成样例算子，如果是no则只有文件夹结构。</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">8/8</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Wether</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> include</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> exmaple</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> operator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> pipeline</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> prompt_template</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> files</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> this</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> DataFlow-extension</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> template?</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> yes</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> -</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> no</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    Choose</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [1/2] (</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">): </span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Applied</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> license:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Apache-2.0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行完毕后，会生成完整的仓库。随后可以在仓库根目录下执行</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>即可本地安装当前的仓库，并且所有修改都可以直接生效于这个包。</p><p>此外，执行如下命令即可立马初始化默认的Github仓库，以供后续发布使用。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-shell"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> init</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Initial commit</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="使用dataflow-extension的仓库" tabindex="-1"><a class="header-anchor" href="#使用dataflow-extension的仓库"><span>使用DataFlow-Extension的仓库</span></a></h2><p>为了方便后续介绍，我们假设我们安装后的Extension的Python包名是<code>df_123</code></p><p>和DataFlow主仓库的Lazyload算子不同的是，DataFlow-CLI生成的仓库，会默认扫描<code>df_123/operator</code>路径下的所有算子并将其import，此时这些算子会被注册在DataFlow主仓库的注册机中。</p><p>如果你想查看这些新算子在注册机中的情况，通过如下脚本即可查看：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 主仓库注册机</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataflow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">utils</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">registry </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> OPERATOR_REGISTRY</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># import，新的Extension仓库，这一步会导入所有注册过的算子</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> df_123</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 正常执行，Extension的算子会出现在这里。</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">print</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">OPERATOR_REGISTRY</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">_obj_map</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">keys</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">())</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样扩展包即和DataFlow主仓库有机的协调在一起了。实现了即插即用的拓展。经过Github和Pypi分发后，相应的流水线的使用和体验会变的非常方便，构建了一整套基于DataFlow的生态系统。</p>`,21)]))}const r=a(e,[["render",t]]),g=JSON.parse('{"path":"/zh/guide/df_ecosystem/","title":"快速上手-Ecosystem","lang":"zh-CN","frontmatter":{"title":"快速上手-Ecosystem","createTime":"2025/12/29 11:08:46","permalink":"/zh/guide/df_ecosystem/","icon":"solar:flag-2-broken"},"readingTime":{"minutes":2.54,"words":762},"git":{"createdTime":1766999139000,"updatedTime":1766999139000,"contributors":[{"name":"Sunnyhaze","username":"Sunnyhaze","email":"mxch1122@126.com","commits":1,"avatar":"https://avatars.githubusercontent.com/Sunnyhaze?v=4","url":"https://github.com/Sunnyhaze"}]},"filePathRelative":"zh/notes/guide/quickstart/df_ecosystem.md","headers":[]}');export{r as comp,g as data};

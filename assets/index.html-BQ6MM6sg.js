import{_ as i}from"./web_agent-CVQKil91.js";import{_ as a,c as n,a as l,o as e}from"./app-RmE5kr10.js";const h="/DataFlow-Doc/pipeline_rec.png",t="/DataFlow-Doc/op_write.png",p="/DataFlow-Doc/op_assemble.png",k="/DataFlow-Doc/prompt_agent.png",d={};function r(g,s){return e(),n("div",null,s[0]||(s[0]=[l(`<p>本指南将帮助您快速上手 DataFlow Agent 平台的5个核心功能模块。</p><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clone</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/OpenDCAI/DataFlow-Agent.git</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> DataFlow-Agent</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> requirements.txt</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="启动web界面" tabindex="-1"><a class="header-anchor" href="#启动web界面"><span>启动Web界面</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">python</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> gradio_app/app.py</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>访问 <code>http://127.0.0.1:7860</code> 开始使用</p><h2 id="目录" tabindex="-1"><a class="header-anchor" href="#目录"><span>目录</span></a></h2><ol><li><a href="#1-%E7%AE%A1%E7%BA%BF%E6%8E%A8%E8%8D%90">管线推荐</a></li><li><a href="#2-%E7%AE%97%E5%AD%90%E7%BC%96%E5%86%99">算子编写</a></li><li><a href="#3-%E6%89%8B%E5%8A%A8%E7%BC%96%E6%8E%92">手动编排</a></li><li><a href="#4-%E7%AE%97%E5%AD%90%E5%A4%8D%E7%94%A8%E6%8F%90%E7%A4%BA%E8%AF%8D%E4%BC%98%E5%8C%96">算子复用/提示词优化</a></li><li><a href="#5-web-search%E6%95%B0%E6%8D%AE%E9%87%87%E9%9B%86">Web Search/数据采集</a></li></ol><hr><h2 id="_1-管线推荐" tabindex="-1"><a class="header-anchor" href="#_1-管线推荐"><span>1. 管线推荐</span></a></h2><h3 id="功能概述" tabindex="-1"><a class="header-anchor" href="#功能概述"><span>功能概述</span></a></h3><p>根据用户的自然语言描述，自动推荐并生成合适的 DataFlow Pipeline，包括算子选择、参数配置和代码生成。</p><h3 id="使用场景" tabindex="-1"><a class="header-anchor" href="#使用场景"><span>使用场景</span></a></h3><ul><li>快速构建数据处理流程</li><li>不熟悉具体算子时的智能推荐</li><li>自动化 Pipeline 生成</li></ul><h3 id="输入参数" tabindex="-1"><a class="header-anchor" href="#输入参数"><span>输入参数</span></a></h3><h4 id="基础配置" tabindex="-1"><a class="header-anchor" href="#基础配置"><span>基础配置</span></a></h4><ul><li><p><strong>目标描述</strong> (必需)</p><ul><li>描述您想要实现的数据处理目标</li><li>示例：<code>&quot;给我随意符合逻辑的5个算子，过滤，去重！&quot;</code></li><li>示例：<code>&quot;对文本数据进行清洗、去重、分类&quot;</code></li></ul></li><li><p><strong>输入 JSONL 文件路径</strong> (必需)</p><ul><li>用于测试 Pipeline 的数据文件</li><li>格式：每行一个 JSON 对象</li><li>默认：<code>{项目根目录}/tests/test.jsonl</code></li></ul></li><li><p><strong>Session ID</strong></p><ul><li>会话标识符，用于缓存和追踪</li><li>默认：<code>&quot;default&quot;</code></li></ul></li></ul><h4 id="api-配置" tabindex="-1"><a class="header-anchor" href="#api-配置"><span>API 配置</span></a></h4><p><strong>主要模型配置</strong></p><ul><li><strong>Chat API URL</strong>: LLM 服务地址 <ul><li>默认：<code>http://123.129.219.111:3000/v1/</code></li></ul></li><li><strong>API Key</strong>: 访问密钥</li><li><strong>模型名称</strong>: 如 <code>gpt-4o</code>, <code>qwen-max</code>, <code>llama3</code> 等 <ul><li>默认：<code>gpt-4o</code></li></ul></li></ul><p><strong>嵌入模型配置</strong></p><ul><li><strong>Embedding API URL</strong>: 嵌入模型服务地址（可选，留空则使用主要 API）</li><li><strong>Embedding 模型名称</strong>: 如 <code>text-embedding-3-small</code></li></ul><h4 id="调试配置" tabindex="-1"><a class="header-anchor" href="#调试配置"><span>调试配置</span></a></h4><ul><li><strong>启用调试模式</strong>: 是否启用自动调试和修复</li><li><strong>调试模式执行次数</strong>: 1-10 次，默认 2 次</li></ul><h3 id="输出结果" tabindex="-1"><a class="header-anchor" href="#输出结果"><span>输出结果</span></a></h3><h4 id="_1-pipeline-code-生成的代码" tabindex="-1"><a class="header-anchor" href="#_1-pipeline-code-生成的代码"><span>1. Pipeline Code (生成的代码)</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 自动生成的 Python 代码</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 包含完整的 Pipeline 定义和执行逻辑</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-execution-log-执行日志" tabindex="-1"><a class="header-anchor" href="#_2-execution-log-执行日志"><span>2. Execution Log (执行日志)</span></a></h4><ul><li>Pipeline 执行过程的详细日志</li><li>包含每个算子的执行状态</li><li>错误信息和调试信息</li></ul><h4 id="_3-agent-results-agent-执行结果" tabindex="-1"><a class="header-anchor" href="#_3-agent-results-agent-执行结果"><span>3. Agent Results (Agent 执行结果)</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">recommender</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">},</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">pipeline_builder</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">},</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">operator_executor</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>各个 Agent 节点的详细执行结果</li><li>包含推荐的算子列表、构建过程等</li></ul><h3 id="使用步骤" tabindex="-1"><a class="header-anchor" href="#使用步骤"><span>使用步骤</span></a></h3><p><img src="`+h+`" alt="pipeline_rec"></p><ol><li><code>step1:</code>选择管线推荐子页面</li><li><code>step2:</code>在&quot;目标描述&quot;框中输入您的需求</li><li><code>step3:</code>输入需要处理jsonl文件</li><li><code>step4:</code>配置 API 信息（URL、Key、模型）</li><li><code>step5:</code>（可选）配置嵌入模型和调试选项</li><li><code>step6:</code>选择是否需要自动更新向量索引（如果出现算子不在注册机里，则需要勾选）</li><li><code>step7:</code>选择是否使用debug模式（debug模式会自动运行管线，直到自大迭代轮次）</li><li><code>step8:</code>右侧 查看生成的代码和执行结果</li></ol><hr><h2 id="_2-算子编写" tabindex="-1"><a class="header-anchor" href="#_2-算子编写"><span>2. 算子编写</span></a></h2><h3 id="功能概述-1" tabindex="-1"><a class="header-anchor" href="#功能概述-1"><span>功能概述</span></a></h3><p>根据用户需求自动生成新的 DataFlow 算子代码，包括算子实现、测试代码和调试。</p><h3 id="使用场景-1" tabindex="-1"><a class="header-anchor" href="#使用场景-1"><span>使用场景</span></a></h3><ul><li>创建自定义数据处理算子</li><li>扩展 DataFlow 功能</li><li>快速原型开发</li></ul><h3 id="输入参数-1" tabindex="-1"><a class="header-anchor" href="#输入参数-1"><span>输入参数</span></a></h3><h4 id="基础配置-1" tabindex="-1"><a class="header-anchor" href="#基础配置-1"><span>基础配置</span></a></h4><ul><li><p><strong>目标描述</strong> (必需)</p><ul><li>描述算子的功能和用途</li><li>示例：<code>&quot;创建一个算子，用于对文本进行情感分析&quot;</code></li><li>示例：<code>&quot;实现一个数据去重算子，支持多字段组合去重&quot;</code></li></ul></li><li><p><strong>算子类别</strong></p><ul><li>算子所属类别，用于匹配相似算子作为参考</li><li>默认：<code>&quot;Default&quot;</code></li><li>可选：<code>&quot;filter&quot;</code>, <code>&quot;mapper&quot;</code>, <code>&quot;aggregator&quot;</code> 等</li></ul></li><li><p><strong>测试数据文件路径 (JSONL)</strong></p><ul><li>用于测试算子的数据文件</li><li>默认：<code>{项目根目录}/tests/test.jsonl</code></li></ul></li></ul><h4 id="api-配置-1" tabindex="-1"><a class="header-anchor" href="#api-配置-1"><span>API 配置</span></a></h4><ul><li><strong>Chat API URL</strong>: LLM 服务地址</li><li><strong>API Key</strong>: 访问密钥（留空则使用环境变量 <code>DF_API_KEY</code>）</li><li><strong>模型名称</strong>: 默认 <code>gpt-4o</code></li></ul><h4 id="高级配置" tabindex="-1"><a class="header-anchor" href="#高级配置"><span>高级配置</span></a></h4><ul><li><strong>输出语言</strong>: <code>en</code> (英文) 或 <code>zh</code> (中文)</li><li><strong>启用调试模式</strong>: 自动执行并修复代码错误</li><li><strong>最大调试轮次</strong>: 1-10 次，默认 3 次</li><li><strong>输出文件路径</strong>: 保存生成代码的位置（可选）</li></ul><h3 id="输出结果-1" tabindex="-1"><a class="header-anchor" href="#输出结果-1"><span>输出结果</span></a></h3><h4 id="_1-生成的代码" tabindex="-1"><a class="header-anchor" href="#_1-生成的代码"><span>1. 生成的代码</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 完整的算子实现代码</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> YourOperator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Operator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ...</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        ...</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dataset</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> ...</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-匹配的算子" tabindex="-1"><a class="header-anchor" href="#_2-匹配的算子"><span>2. 匹配的算子</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">op_name</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">similar_operator_1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">similarity</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.85</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">description</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>系统匹配到的相似算子列表</li><li>用作参考和学习</li></ul><h4 id="_3-执行结果" tabindex="-1"><a class="header-anchor" href="#_3-执行结果"><span>3. 执行结果</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">success</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> true</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">output</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">},</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">stderr</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">stdout</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>算子的执行状态</li><li>输出数据预览</li><li>错误信息（如有）</li></ul><h4 id="_4-调试信息" tabindex="-1"><a class="header-anchor" href="#_4-调试信息"><span>4. 调试信息</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">round</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">input_key</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">available_keys</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">label</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">stdout</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">stderr</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>调试过程的详细信息</li><li>每轮调试的输入输出</li></ul><h4 id="_5-agent-结果" tabindex="-1"><a class="header-anchor" href="#_5-agent-结果"><span>5. Agent 结果</span></a></h4><ul><li>各个 Agent 节点的执行详情</li><li>包含匹配、编写、执行、调试等阶段</li></ul><h4 id="_6-执行日志" tabindex="-1"><a class="header-anchor" href="#_6-执行日志"><span>6. 执行日志</span></a></h4><ul><li>完整的执行过程日志</li><li>包含所有阶段的详细信息</li></ul><h3 id="使用步骤-1" tabindex="-1"><a class="header-anchor" href="#使用步骤-1"><span>使用步骤</span></a></h3><p><img src="`+t+`" alt="op_write"></p><ol><li><code>step1:</code> 在&quot;目标描述&quot;中详细说明算子功能</li><li><code>step2:</code> 选择合适的算子类别，配置 API 信息</li><li><code>step3:</code> （可选）启用调试模式以自动修复错误</li><li><code>step4:</code> 设置debug轮次</li><li><code>step5:</code> 设置输出jsonl文件路径</li></ol><hr><h2 id="_3-手动编排" tabindex="-1"><a class="header-anchor" href="#_3-手动编排"><span>3. 手动编排</span></a></h2><h3 id="功能概述-2" tabindex="-1"><a class="header-anchor" href="#功能概述-2"><span>功能概述</span></a></h3><p>通过可视化界面手动选择和组装算子，构建自定义 Pipeline，支持拖拽排序和参数配置。</p><h3 id="使用场景-2" tabindex="-1"><a class="header-anchor" href="#使用场景-2"><span>使用场景</span></a></h3><ul><li>精确控制 Pipeline 结构</li><li>复用现有算子</li><li>快速原型验证</li><li>学习算子使用方法</li></ul><h3 id="输入参数-2" tabindex="-1"><a class="header-anchor" href="#输入参数-2"><span>输入参数</span></a></h3><h4 id="api-和文件配置" tabindex="-1"><a class="header-anchor" href="#api-和文件配置"><span>API 和文件配置</span></a></h4><ul><li><strong>Chat API URL</strong>: LLM 服务地址</li><li><strong>API Key</strong>: 访问密钥</li><li><strong>模型名称</strong>: 默认 <code>gpt-4o</code></li><li><strong>输入 JSONL 文件路径</strong>: 测试数据文件</li></ul><h4 id="算子选择和配置" tabindex="-1"><a class="header-anchor" href="#算子选择和配置"><span>算子选择和配置</span></a></h4><p><strong>步骤 1: 选择算子</strong></p><ol><li>从&quot;算子分类&quot;下拉框选择类别 <ul><li>如：<code>filter</code>, <code>mapper</code>, <code>deduplicator</code> 等</li></ul></li><li>从&quot;算子&quot;下拉框选择具体算子 <ul><li>系统会自动显示该算子的参数说明</li></ul></li></ol><p><strong>步骤 2: 配置参数</strong></p><ul><li><p><strong>Prompt Template (可选)</strong></p><ul><li>如果算子支持 Prompt 模板，会显示下拉选择器</li><li>选择后自动更新到 <code>__init__()</code> 参数中</li></ul></li><li><p><strong><code>__init__()</code> 参数 (JSON 格式)</strong></p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">param1</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">value1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">param2</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 123</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">prompt_template</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">module.PromptClass</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>算子初始化参数</li><li>必须是有效的 JSON 对象</li></ul></li><li><p><strong><code>run()</code> 参数 (JSON 格式)</strong></p><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">input_key</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">output_key</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">processed_text</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">batch_size</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 32</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>算子运行时参数</li><li>必须是有效的 JSON 对象</li></ul></li></ul><p><strong>步骤 3: 添加到 Pipeline</strong></p><ul><li>点击&quot;➕ 添加算子到 Pipeline&quot;按钮</li><li>算子会被添加到 Pipeline 序列中</li></ul><p><strong>步骤 4: 调整顺序</strong></p><ul><li>在 Pipeline 可视化区域，可以检查算子前后key是否对其</li><li>系统会自动重新编号</li></ul><p><strong>步骤 5: 自动链接</strong></p><ul><li>系统会自动分析算子间的输入输出关系</li><li>显示链接状态： <ul><li>🔗 <strong>已链接</strong>: 输出键成功匹配到下一个算子的输入</li><li>⚠️ <strong>待处理</strong>: 输入为空或未匹配</li></ul></li></ul><h3 id="输出结果-2" tabindex="-1"><a class="header-anchor" href="#输出结果-2"><span>输出结果</span></a></h3><h4 id="_1-当前-pipeline-可视化展示" tabindex="-1"><a class="header-anchor" href="#_1-当前-pipeline-可视化展示"><span>1. 当前 Pipeline (可视化展示)</span></a></h4><ul><li>每个算子显示为卡片，包含： <ul><li>步骤编号</li><li>算子名称</li><li><code>__init__()</code> 参数预览</li><li><code>run()</code> 参数预览</li><li>与上一步的连接状态</li></ul></li></ul><h4 id="_2-当前-pipeline-json-格式" tabindex="-1"><a class="header-anchor" href="#_2-当前-pipeline-json-格式"><span>2. 当前 Pipeline (JSON 格式)</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">op_name</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">TextCleanerOperator</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">init_params</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">},</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">run_params</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">...</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">},</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">_incoming_links</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">input_key</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">value</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">raw_text</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">output_keys</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">output</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    ]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-生成的代码" tabindex="-1"><a class="header-anchor" href="#_3-生成的代码"><span>3. 生成的代码</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> RecommendPipeline</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PipelineABC</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        super</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">().</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">__init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # -------- FileStorage --------</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FileStorage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            first_entry_file_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/tmp/test_sample_10.jsonl</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            cache_path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">dataflow_cache</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            file_name_prefix</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">dataflow_cache_step</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            cache_type</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">jsonl</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        )</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # -------- LLM Serving (Remote) --------</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">llm_serving </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> APILLMServing_request</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            api_url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">http://123.129.219.111:3000/v1/chat/completions</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            key_name_of_api_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">DF_API_KEY</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            model_name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">gpt-4o</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            max_workers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">100</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        )</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # -------- Operators --------</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">condor_generator </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> CondorGenerator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> num_samples</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">15</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> use_task_diversity</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">True</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prompted_generator </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> PromptedGenerator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> system_prompt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">分析样本数据，识别与可再生能源相关的关键主题和趋势。</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> json_schema</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">task2_vec_dataset_evaluator </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Task2VecDatasetEvaluator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">llm_serving</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> device</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">cuda</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> sample_nums</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> sample_size</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> method</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">montecarlo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> model_cache_dir</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">./dataflow_cache</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> forward</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">condor_generator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">step</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            input_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">raw_content</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            output_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">generated_content_1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        )</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prompted_generator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">step</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            input_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">generated_content_1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            output_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">generated_content_2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        )</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">task2_vec_dataset_evaluator</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">step</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            input_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">generated_content_2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __name__</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ==</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">__main__</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    pipeline </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> RecommendPipeline</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    pipeline</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">compile</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    pipeline</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">forward</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-处理结果数据-前-100-条" tabindex="-1"><a class="header-anchor" href="#_4-处理结果数据-前-100-条"><span>4. 处理结果数据 (前 100 条)</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">text</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">processed text 1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;"> &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">label</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">A</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">},</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">text</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">processed text 2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;"> &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">label</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">B</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">},</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">  ...</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-输出文件路径" tabindex="-1"><a class="header-anchor" href="#_5-输出文件路径"><span>5. 输出文件路径</span></a></h4><ul><li>处理后数据的保存位置</li></ul><h3 id="使用步骤-2" tabindex="-1"><a class="header-anchor" href="#使用步骤-2"><span>使用步骤</span></a></h3><p><img src="`+p+`" alt="op_assemble"></p><ol><li><code>step1:</code> 配置 API 信息和输入文件路径</li><li><code>step2:</code> 配置APIKey</li><li><code>step3:</code> 配置模型</li><li><code>step4:</code> 选择待处理文件路径</li><li><code>step5:</code> 选择要组合的算子类别</li><li><code>step6:</code> 选择要组合的算子</li><li><code>step7:</code> 如果算子提供了prompttemplate需要选择</li><li><code>step8:</code> 编辑算子输入和输出key！！</li><li><code>step9:</code> 运行</li><li><code>step10:</code> 可以查看组装的代码，和处理结果数据，以及输出文件路径</li></ol><h3 id="高级技巧" tabindex="-1"><a class="header-anchor" href="#高级技巧"><span>高级技巧</span></a></h3><ul><li><strong>清空 Pipeline</strong>: 点击&quot;🗑️ 清空 Pipeline&quot;按钮</li><li><strong>参数复用</strong>: 系统会自动将上一个算子的输出键链接到下一个算子的输入</li><li><strong>调试</strong>: 如果执行失败，检查日志中的错误信息，调整参数后重试</li></ul><hr><h2 id="_4-算子复用-提示词优化" tabindex="-1"><a class="header-anchor" href="#_4-算子复用-提示词优化"><span>4. 算子复用/提示词优化</span></a></h2><h3 id="功能概述-3" tabindex="-1"><a class="header-anchor" href="#功能概述-3"><span>功能概述</span></a></h3><p>PromptAgent 前端，用于生成和优化算子的 Prompt 模板，支持多轮对话式改写和测试。</p><h3 id="使用场景-3" tabindex="-1"><a class="header-anchor" href="#使用场景-3"><span>使用场景</span></a></h3><ul><li>为算子创建高质量的 Prompt 模板</li><li>优化现有 Prompt 的效果</li><li>快速迭代 Prompt 设计</li><li>生成测试代码和数据</li></ul><h3 id="输入参数-3" tabindex="-1"><a class="header-anchor" href="#输入参数-3"><span>输入参数</span></a></h3><h4 id="运行配置" tabindex="-1"><a class="header-anchor" href="#运行配置"><span>运行配置</span></a></h4><ul><li><strong>Chat API Base URL</strong>: LLM 服务地址 <ul><li>默认：<code>http://123.129.219.111:3000/v1/</code></li></ul></li><li><strong>Chat API Key</strong>: 访问密钥</li><li><strong>Model</strong>: 模型名称，默认 <code>gpt-4o</code></li><li><strong>Language</strong>: 提示词语言，<code>zh</code> (中文) 或 <code>en</code> (英文)</li></ul><h4 id="prompt-配置" tabindex="-1"><a class="header-anchor" href="#prompt-配置"><span>Prompt 配置</span></a></h4><ul><li><p><strong>任务描述</strong> (必需)</p><ul><li>详细描述 Prompt 要完成的任务</li><li>示例：<code>&quot;对用户输入的文本进行情感分析，判断是正面、负面还是中性&quot;</code></li><li>示例：<code>&quot;将产品描述改写为更吸引人的营销文案&quot;</code></li></ul></li><li><p><strong>算子名称 (op-name)</strong> (必需)</p><ul><li>Prompt 类的名称</li><li>示例：<code>SentimentAnalysisPrompt</code></li></ul></li><li><p><strong>输出格式</strong> (可选)</p><ul><li>指定 Prompt 输出的格式</li><li>示例：<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>{</span></span>
<span class="line"><span>  &quot;sentiment&quot;: &quot;positive/negative/neutral&quot;,</span></span>
<span class="line"><span>  &quot;confidence&quot;: 0.95</span></span>
<span class="line"><span>}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p><strong>参数列表</strong> (可选)</p><ul><li>Prompt 模板需要的参数，用逗号、空格或换行分隔</li><li>示例：<code>text, language, style</code></li><li>示例：<div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>input_text</span></span>
<span class="line"><span>target_audience</span></span>
<span class="line"><span>tone</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p><strong>文件输出根路径</strong> (可选)</p><ul><li>保存生成文件的目录</li><li>默认：<code>./pa_cache</code></li></ul></li><li><p><strong>生成后删除测试文件</strong></p><ul><li>是否在生成后删除测试文件（保留路径占位）</li><li>默认：启用</li></ul></li></ul><h3 id="输出结果-3" tabindex="-1"><a class="header-anchor" href="#输出结果-3"><span>输出结果</span></a></h3><h4 id="_1-prompt-文件路径" tabindex="-1"><a class="header-anchor" href="#_1-prompt-文件路径"><span>1. Prompt 文件路径</span></a></h4><ul><li>生成的 Prompt 模板文件位置</li><li>示例：<code>./pa_cache/prompts/SentimentAnalysisPrompt.py</code></li></ul><h4 id="_2-测试数据文件路径" tabindex="-1"><a class="header-anchor" href="#_2-测试数据文件路径"><span>2. 测试数据文件路径</span></a></h4><ul><li>自动生成的测试数据文件</li><li>示例：<code>./pa_cache/test_data/test_data.jsonl</code></li></ul><h4 id="_3-测试代码文件路径" tabindex="-1"><a class="header-anchor" href="#_3-测试代码文件路径"><span>3. 测试代码文件路径</span></a></h4><ul><li>自动生成的测试代码</li><li>示例：<code>./pa_cache/tests/test_prompt.py</code></li></ul><h4 id="_4-测试数据预览" tabindex="-1"><a class="header-anchor" href="#_4-测试数据预览"><span>4. 测试数据预览</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">text</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">这个产品真不错！</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;"> &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">language</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">zh</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">},</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">text</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">质量太差了</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;"> &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">language</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">zh</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">},</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">text</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">还可以吧</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;"> &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">language</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">zh</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-测试结果预览" tabindex="-1"><a class="header-anchor" href="#_5-测试结果预览"><span>5. 测试结果预览</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">input</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">text</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">这个产品真不错！</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">},</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">output</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">sentiment</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">positive</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">confidence</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0.92</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-prompt-代码预览" tabindex="-1"><a class="header-anchor" href="#_6-prompt-代码预览"><span>6. Prompt 代码预览</span></a></h4><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">class</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> SentimentAnalysisPrompt</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">PromptTemplate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">情感分析 Prompt 模板</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        super</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">().</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">__init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">system_prompt </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">你是一个情感分析专家...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">        self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">user_prompt_template </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">请分析以下文本的情感：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{text}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> format</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> text</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> **</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">kwargs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">user_prompt_template</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">format</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">text</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">text</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="多轮改写功能" tabindex="-1"><a class="header-anchor" href="#多轮改写功能"><span>多轮改写功能</span></a></h3><p>在右侧对话区域，您可以：</p><ol><li><p><strong>查看初次生成结果</strong></p><ul><li>Prompt 代码</li><li>测试结果</li></ul></li><li><p><strong>提出改进建议</strong></p><ul><li>在对话输入框中描述您希望如何修改</li><li>示例： <ul><li><code>&quot;增加对讽刺语气的识别&quot;</code></li><li><code>&quot;输出格式改为只返回 positive/negative/neutral 字符串&quot;</code></li><li><code>&quot;添加置信度阈值，低于 0.7 时返回 uncertain&quot;</code></li></ul></li></ul></li><li><p><strong>发送改写指令</strong></p><ul><li>点击&quot;发送改写指令&quot;按钮</li><li>系统会根据反馈重新生成 Prompt</li></ul></li><li><p><strong>迭代优化</strong></p><ul><li>查看更新后的代码和测试结果</li><li>继续提出改进建议</li><li>重复直到满意</li></ul></li><li><p><strong>清空会话</strong></p><ul><li>点击&quot;清空会话&quot;按钮重新开始</li></ul></li></ol><h3 id="使用步骤-3" tabindex="-1"><a class="header-anchor" href="#使用步骤-3"><span>使用步骤</span></a></h3><p><img src="`+k+`" alt="prompt_agent"></p><ol><li><code>step1:</code> 选择你要复用的带有prompttemplate的算子名称</li><li><code>step2:</code> 输入你想修改的提示词内容</li><li><code>step3:</code> 点击“生成提示词模板”</li><li><code>step4:</code> 右侧预览生成的“输出文件路径，测试数据，提示词模板代码，测试代码”</li></ol><h4 id="初次生成" tabindex="-1"><a class="header-anchor" href="#初次生成"><span>初次生成</span></a></h4><ol><li>配置 API 信息（URL、Key、模型）</li><li>填写任务描述、算子名称</li><li>（可选）指定输出格式和参数列表</li><li>点击&quot;生成 Prompt 模板&quot;按钮</li><li>查看生成的 Prompt 代码和测试结果</li></ol><h4 id="多轮优化" tabindex="-1"><a class="header-anchor" href="#多轮优化"><span>多轮优化</span></a></h4><ol><li>在右侧对话框中输入改进建议</li><li>点击&quot;发送改写指令&quot;</li><li>查看更新后的代码和测试结果</li><li>重复步骤 1-3 直到满意</li></ol><h4 id="使用生成的-prompt" tabindex="-1"><a class="header-anchor" href="#使用生成的-prompt"><span>使用生成的 Prompt</span></a></h4><ol><li>从&quot;Prompt 文件路径&quot;获取文件位置</li><li>将 Prompt 类导入到您的算子中</li><li>在算子的 <code>__init__()</code> 中指定 <code>prompt_template</code></li></ol><hr><h2 id="_5-web-search-数据采集" tabindex="-1"><a class="header-anchor" href="#_5-web-search-数据采集"><span>5. Web Search/数据采集</span></a></h2><h3 id="功能概述-4" tabindex="-1"><a class="header-anchor" href="#功能概述-4"><span>功能概述</span></a></h3><p>从网络（HuggingFace、Kaggle 等平台）自动采集数据集，并转换为统一格式，支持智能搜索、下载和数据清洗。</p><h3 id="使用场景-4" tabindex="-1"><a class="header-anchor" href="#使用场景-4"><span>使用场景</span></a></h3><ul><li>快速构建训练数据集</li><li>收集特定领域的数据</li><li>数据集格式转换</li><li>批量下载和处理</li></ul><h3 id="输入参数-4" tabindex="-1"><a class="header-anchor" href="#输入参数-4"><span>输入参数</span></a></h3><h4 id="采集配置" tabindex="-1"><a class="header-anchor" href="#采集配置"><span>采集配置</span></a></h4><ul><li><p><strong>目标描述</strong> (必需)</p><ul><li>描述您想要收集的数据类型</li><li>示例：<code>&quot;收集 Python 代码示例的数据集&quot;</code></li><li>示例：<code>&quot;收集中文对话数据，用于训练聊天机器人&quot;</code></li><li>示例：<code>&quot;收集图像分类数据集，包含猫和狗的图片&quot;</code></li></ul></li><li><p><strong>数据类别</strong></p><ul><li><code>PT</code>: 预训练数据（Pre-Training）</li><li><code>SFT</code>: 监督微调数据（Supervised Fine-Tuning）</li><li>默认：<code>SFT</code></li></ul></li><li><p><strong>数据集数量上限（每关键词）</strong></p><ul><li>每个搜索关键词返回的数据集数量</li><li>范围：1-50</li><li>默认：5</li><li>注意：仅用于参考，实际数量可能因搜索结果而异</li></ul></li><li><p><strong>数据集大小范围</strong></p><ul><li>筛选数据集的大小范围</li><li>选项： <ul><li><code>n&lt;1K</code>: 小于 1000 条</li><li><code>1K&lt;n&lt;10K</code>: 1000-10000 条</li><li><code>10K&lt;n&lt;100K</code>: 10000-100000 条</li><li><code>100K&lt;n&lt;1M</code>: 100000-1000000 条</li><li><code>n&gt;1M</code>: 大于 1000000 条</li></ul></li><li>默认：<code>1K&lt;n&lt;10K</code></li></ul></li><li><p><strong>下载子任务上限</strong></p><ul><li>限制最终执行的下载任务数量</li><li>留空表示不限制</li><li>用于控制下载规模和时间</li></ul></li><li><p><strong>最大数据集大小</strong></p><ul><li>单个数据集的大小上限</li><li>输入数值后选择单位（B/KB/MB/GB/TB）</li><li>留空表示不限制</li></ul></li><li><p><strong>下载目录</strong></p><ul><li>数据保存的根目录</li><li>默认：<code>downloaded_data</code></li></ul></li><li><p><strong>提示词语言</strong></p><ul><li><code>zh</code>: 中文</li><li><code>en</code>: 英文</li><li>默认：<code>zh</code></li></ul></li></ul><h4 id="llm-配置" tabindex="-1"><a class="header-anchor" href="#llm-配置"><span>LLM 配置</span></a></h4><ul><li><strong>CHAT_API_URL</strong>: LLM 服务地址 <ul><li>默认：<code>http://123.129.219.111:3000/v1/chat/completions</code></li></ul></li><li><strong>CHAT_API_KEY</strong>: 访问密钥</li><li><strong>CHAT_MODEL</strong>: 模型名称 <ul><li>默认：<code>deepseek-chat</code></li></ul></li></ul><h4 id="其他环境配置" tabindex="-1"><a class="header-anchor" href="#其他环境配置"><span>其他环境配置</span></a></h4><ul><li><strong>HF_ENDPOINT</strong>: HuggingFace 镜像地址 <ul><li>默认：<code>https://hf-mirror.com</code></li></ul></li><li><strong>KAGGLE_USERNAME</strong>: Kaggle 用户名</li><li><strong>KAGGLE_KEY</strong>: Kaggle API 密钥</li><li><strong>TAVILY_API_KEY</strong>: Tavily 搜索 API 密钥</li></ul><h4 id="rag-配置" tabindex="-1"><a class="header-anchor" href="#rag-配置"><span>RAG 配置</span></a></h4><ul><li><strong>RAG_EBD_MODEL</strong>: 嵌入模型名称 <ul><li>默认：<code>text-embedding-3-large</code></li></ul></li><li><strong>RAG_API_URL</strong>: RAG 服务地址</li><li><strong>RAG_API_KEY</strong>: RAG API 密钥</li></ul><h4 id="高级配置-可折叠" tabindex="-1"><a class="header-anchor" href="#高级配置-可折叠"><span>高级配置（可折叠）</span></a></h4><p><strong>网页采集高级配置</strong></p><ul><li><strong>下载任务最大循环次数</strong>: 1-50，默认 10 <ul><li>控制每个下载任务的最大重试次数</li></ul></li><li><strong>研究阶段最大循环次数</strong>: 1-50，默认 15 <ul><li>research 阶段的最大循环次数，允许访问更多网站</li></ul></li><li><strong>搜索引擎</strong>: <code>tavily</code> / <code>duckduckgo</code> / <code>jina</code><ul><li>默认：<code>tavily</code></li></ul></li><li><strong>使用 Jina Reader</strong>: 是否使用 Jina Reader 提取网页内容 <ul><li>默认：启用</li><li>优点：快速、结构化（Markdown 格式）</li></ul></li><li><strong>启用 RAG 增强</strong>: 是否使用 RAG 精炼内容 <ul><li>默认：启用</li></ul></li><li><strong>并行处理页面数</strong>: 1-20，默认 5 <ul><li>并行处理的页面数量</li><li>建议：3-10（根据网络和机器性能调整）</li></ul></li><li><strong>禁用缓存</strong>: 是否禁用 HuggingFace 和 Kaggle 缓存 <ul><li>默认：启用</li><li>启用后使用临时目录，下载后自动清理</li></ul></li><li><strong>临时目录</strong>: 自定义临时目录路径 <ul><li>留空则使用默认临时目录</li></ul></li></ul><p><strong>数据转换高级配置</strong></p><ul><li><strong>转换模型温度</strong>: 0.0-2.0，默认 0.0 <ul><li>数据转换时的模型温度参数</li></ul></li><li><strong>转换最大 Token 数</strong>: 512-8192，默认 4096 <ul><li>数据转换时的最大 token 数</li></ul></li><li><strong>最大采样长度（字符）</strong>: 50-1000，默认 200 <ul><li>每个字段的最大采样长度</li></ul></li><li><strong>采样记录数量</strong>: 1-10，默认 3 <ul><li>用于分析的采样记录数量</li></ul></li></ul><h3 id="输出结果-4" tabindex="-1"><a class="header-anchor" href="#输出结果-4"><span>输出结果</span></a></h3><h4 id="_1-执行日志-实时流式输出" tabindex="-1"><a class="header-anchor" href="#_1-执行日志-实时流式输出"><span>1. 执行日志（实时流式输出）</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>============================================================</span></span>
<span class="line"><span>开始执行网页采集与转换工作流</span></span>
<span class="line"><span>============================================================</span></span>
<span class="line"><span>目标: 收集 Python 代码示例的数据集</span></span>
<span class="line"><span>类别: SFT</span></span>
<span class="line"><span>下载目录: downloaded_data</span></span>
<span class="line"><span></span></span>
<span class="line"><span>【网页采集配置】</span></span>
<span class="line"><span>  - 搜索引擎: tavily</span></span>
<span class="line"><span>  - 下载子任务上限: 不限制</span></span>
<span class="line"><span>  - 任务最大循环次数: 10</span></span>
<span class="line"><span>  - 研究阶段最大循环次数: 15</span></span>
<span class="line"><span>  - 使用 Jina Reader: 是</span></span>
<span class="line"><span>  - 启用 RAG: 是</span></span>
<span class="line"><span>  - 并行页面数: 5</span></span>
<span class="line"><span>  - 禁用缓存: 是</span></span>
<span class="line"><span></span></span>
<span class="line"><span>【数据转换配置】</span></span>
<span class="line"><span>  - 模型温度: 0.0</span></span>
<span class="line"><span>  - 最大 Token 数: 4096</span></span>
<span class="line"><span>  - 最大采样长度: 200</span></span>
<span class="line"><span>  - 采样记录数: 3</span></span>
<span class="line"><span></span></span>
<span class="line"><span>数据集大小限制: 不限制</span></span>
<span class="line"><span>============================================================</span></span>
<span class="line"><span></span></span>
<span class="line"><span>2025-01-23 10:00:00 [INFO] 开始搜索数据集...</span></span>
<span class="line"><span>2025-01-23 10:00:05 [INFO] 找到 15 个候选数据集</span></span>
<span class="line"><span>2025-01-23 10:00:10 [INFO] 开始下载数据集 1/5...</span></span>
<span class="line"><span>2025-01-23 10:01:00 [INFO] 数据集 1 下载完成</span></span>
<span class="line"><span>...</span></span>
<span class="line"><span>2025-01-23 10:15:00 [INFO] 开始数据转换...</span></span>
<span class="line"><span>2025-01-23 10:20:00 [INFO] 数据转换完成</span></span>
<span class="line"><span>流程执行完成！</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-结果摘要" tabindex="-1"><a class="header-anchor" href="#_2-结果摘要"><span>2. 结果摘要</span></a></h4><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">download_dir</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">downloaded_data</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">processed_output</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">downloaded_data/processed_output</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">category</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">SFT</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">language</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">zh</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">chat_model</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">deepseek-chat</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">max_download_subtasks</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> null</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">max_dataset_size_bytes</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> null</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">max_dataset_size_unit</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> null</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">max_dataset_size_value</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> null</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="输出文件结构" tabindex="-1"><a class="header-anchor" href="#输出文件结构"><span>输出文件结构</span></a></h3><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-"><span class="line"><span>downloaded_data/</span></span>
<span class="line"><span>├── raw/                          # 原始下载的数据</span></span>
<span class="line"><span>│   ├── dataset_1/</span></span>
<span class="line"><span>│   │   ├── data.jsonl</span></span>
<span class="line"><span>│   │   └── metadata.json</span></span>
<span class="line"><span>│   ├── dataset_2/</span></span>
<span class="line"><span>│   └── ...</span></span>
<span class="line"><span>└── processed_output/             # 转换后的统一格式数据</span></span>
<span class="line"><span>    ├── combined.jsonl           # 合并后的数据</span></span>
<span class="line"><span>    ├── train.jsonl              # 训练集（如果分割）</span></span>
<span class="line"><span>    ├── validation.jsonl         # 验证集（如果分割）</span></span>
<span class="line"><span>    └── metadata.json            # 元数据信息</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用步骤-4" tabindex="-1"><a class="header-anchor" href="#使用步骤-4"><span>使用步骤</span></a></h3><p><img src="`+i+'" alt="web_agent"></p><h4 id="基础使用" tabindex="-1"><a class="header-anchor" href="#基础使用"><span>基础使用</span></a></h4><ol><li><code>step1:</code> 在&quot;目标描述&quot;中详细说明要收集的数据类型</li><li><code>step2:</code> 选择数据类别（PT 或 SFT）</li><li><code>step3:</code> 配置数据集数量和大小限制</li><li><code>step4:</code> 配置 LLM API 信息</li><li><code>step5:</code> （可选）配置 Kaggle、Tavily 等服务的密钥</li><li><code>step6:</code> 点击&quot;开始网页采集与转换&quot;按钮</li><li><code>step7:</code> 实时查看执行日志</li><li><code>step8:</code> 等待完成后查看结果摘要</li><li><code>step9:</code> 在下载目录中查看采集的数据</li></ol><h4 id="高级使用" tabindex="-1"><a class="header-anchor" href="#高级使用"><span>高级使用</span></a></h4><ol><li>展开&quot;⚙️ 高级配置&quot;区域</li><li>根据需求调整： <ul><li>搜索引擎选择</li><li>并行处理数量</li><li>缓存策略</li><li>数据转换参数</li></ul></li><li>执行采集任务</li><li>根据日志调整参数优化效果</li></ol><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h3><ol><li><p><strong>API 密钥</strong></p><ul><li>确保配置了必要的 API 密钥</li><li>Tavily 用于搜索，Kaggle 用于下载 Kaggle 数据集</li></ul></li><li><p><strong>网络环境</strong></p><ul><li>如果在国内，建议使用 HuggingFace 镜像</li><li>调整并行数量以适应网络带宽</li></ul></li><li><p><strong>存储空间</strong></p><ul><li>确保有足够的磁盘空间</li><li>大型数据集可能需要数 GB 空间</li></ul></li><li><p><strong>执行时间</strong></p><ul><li>采集过程可能需要较长时间（几分钟到几小时）</li><li>可以通过限制下载任务数量来控制时间</li></ul></li><li><p><strong>数据质量</strong></p><ul><li>启用 RAG 增强可以提高数据质量</li><li>调整采样参数以平衡质量和速度</li></ul></li></ol><hr><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题"><span>常见问题</span></a></h2><h3 id="q1-api-密钥如何获取" tabindex="-1"><a class="header-anchor" href="#q1-api-密钥如何获取"><span>Q1: API 密钥如何获取？</span></a></h3><ul><li><strong>OpenAI/GPT</strong>: 访问 <a href="https://platform.openai.com/" target="_blank" rel="noopener noreferrer">OpenAI Platform</a></li><li><strong>Tavily</strong>: 访问 <a href="https://tavily.com/" target="_blank" rel="noopener noreferrer">Tavily</a></li><li><strong>Kaggle</strong>: 访问 <a href="https://www.kaggle.com/settings" target="_blank" rel="noopener noreferrer">Kaggle Settings</a></li></ul><h3 id="q2-如何选择合适的模型" tabindex="-1"><a class="header-anchor" href="#q2-如何选择合适的模型"><span>Q2: 如何选择合适的模型？</span></a></h3><ul><li><strong>快速原型</strong>: <code>gpt-3.5-turbo</code>, <code>deepseek-chat</code></li><li><strong>高质量输出</strong>: <code>gpt-4o</code>, <code>claude-3-opus</code></li><li><strong>中文优化</strong>: <code>qwen-max</code>, <code>deepseek-chat</code></li></ul><h3 id="q3-pipeline-执行失败怎么办" tabindex="-1"><a class="header-anchor" href="#q3-pipeline-执行失败怎么办"><span>Q3: Pipeline 执行失败怎么办？</span></a></h3><ol><li>检查执行日志中的错误信息</li><li>确认输入数据格式正确</li><li>检查算子参数配置</li><li>启用调试模式自动修复</li><li>查看 Agent 结果了解详细错误</li></ol><h3 id="q4-如何提高数据采集质量" tabindex="-1"><a class="header-anchor" href="#q4-如何提高数据采集质量"><span>Q4: 如何提高数据采集质量？</span></a></h3><ol><li>使用更精确的目标描述</li><li>启用 RAG 增强</li><li>调整数据集大小范围</li><li>增加采样记录数量</li><li>使用更强大的 LLM 模型</li></ol><h3 id="q5-生成的代码可以直接使用吗" tabindex="-1"><a class="header-anchor" href="#q5-生成的代码可以直接使用吗"><span>Q5: 生成的代码可以直接使用吗？</span></a></h3><ul><li><strong>管线推荐</strong>: 可以直接运行，但建议先在测试数据上验证</li><li><strong>算子编写</strong>: 建议先测试，必要时手动调整</li><li><strong>手动编排</strong>: 生成的代码已经过测试，可以直接使用</li><li><strong>Prompt 模板</strong>: 建议多轮优化后再用于生产环境</li></ul>',186)]))}const u=a(d,[["render",r]]),y=JSON.parse('{"path":"/zh/guide/DataFlow-AgentPipelineOrchestration/","title":"Agent-快速开始","lang":"zh-CN","frontmatter":{"title":"Agent-快速开始","icon":"carbon:ibm-consulting-advantage-agent","createTime":"2025/06/19 10:29:31","permalink":"/zh/guide/DataFlow-AgentPipelineOrchestration/"},"readingTime":{"minutes":15.94,"words":4782},"git":{"createdTime":1752300464000,"updatedTime":1764317574000,"contributors":[{"name":"Youth-49","username":"Youth-49","email":"youth.049@gmail.com","commits":2,"avatar":"https://avatars.githubusercontent.com/Youth-49?v=4","url":"https://github.com/Youth-49"},{"name":"zhouliu","username":"zhouliu","email":"liuzhoul82@gmail.com","commits":1,"avatar":"https://avatars.githubusercontent.com/zhouliu?v=4","url":"https://github.com/zhouliu"},{"name":"Hao Liang","username":"","email":"hao.liang@stu.pku.edu.cn","commits":1,"avatar":"https://gravatar.com/avatar/105bae3e8661728b9f2f5440992b04f5f28459b66a049d09b52213ce1438f6bc?d=retro"},{"name":"DeepMindLiuZhou","username":"DeepMindLiuZhou","email":"liuzhoul82@gmail.com","commits":2,"avatar":"https://avatars.githubusercontent.com/DeepMindLiuZhou?v=4","url":"https://github.com/DeepMindLiuZhou"},{"name":"DeepThinkingZhouLiu","username":"DeepThinkingZhouLiu","email":"58026542+DeepThinkingZhouLiu@users.noreply.github.com","commits":2,"avatar":"https://avatars.githubusercontent.com/DeepThinkingZhouLiu?v=4","url":"https://github.com/DeepThinkingZhouLiu"},{"name":"scuuy","username":"scuuy","email":"144333560+scuuy@users.noreply.github.com","commits":1,"avatar":"https://avatars.githubusercontent.com/scuuy?v=4","url":"https://github.com/scuuy"},{"name":"pzp5700","username":"pzp5700","email":"pzp0057@sjtu.edu.cn","commits":1,"avatar":"https://avatars.githubusercontent.com/pzp5700?v=4","url":"https://github.com/pzp5700"}]},"filePathRelative":"zh/notes/guide/agent/DataFlow-AgentPipelineOrchestration.md","headers":[]}');export{u as comp,y as data};

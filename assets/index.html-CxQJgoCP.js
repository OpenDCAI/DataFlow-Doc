import{_ as i,c as a,a as t,o as n}from"./app-RmE5kr10.js";const e={};function l(h,s){return n(),a("div",null,s[0]||(s[0]=[t(`<h2 id="ğŸ“˜-æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#ğŸ“˜-æ¦‚è¿°"><span>ğŸ“˜ æ¦‚è¿°</span></a></h2><p><code>LLMOutputParser</code> æ˜¯ä¸€ä¸ªç»“æ„åŒ–æ•°æ®è§£æç®—å­ï¼Œä¸“é—¨ç”¨äºè§£æå¤§è¯­è¨€æ¨¡å‹ï¼ˆLLMï¼‰ç”Ÿæˆçš„å¸¦æœ‰ç‰¹å®š XML æ ‡ç­¾çš„å“åº”æ–‡æœ¬ã€‚</p><p>è¯¥ç®—å­çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯ï¼š</p><ol><li><strong>æ ‡ç­¾è§£æ</strong>ï¼šè¯†åˆ«å¹¶æå– <code>&lt;chapter&gt;</code>ã€<code>&lt;qa_pair&gt;</code>ã€<code>&lt;question&gt;</code>ã€<code>&lt;answer&gt;</code>ã€<code>&lt;solution&gt;</code> å’Œ <code>&lt;label&gt;</code> ç­‰æ ‡ç­¾ä¸­çš„å†…å®¹ã€‚</li><li><strong>ID è¿˜åŸ</strong>ï¼šå°† LLM è¿”å›çš„æ•°å­— ID æ˜ å°„å›åŸå§‹çš„æ–‡æœ¬å†…å®¹æˆ–å›¾ç‰‡æ ‡ç­¾ï¼ˆåŸºäº <code>MinerU2LLMInputOperator</code> ç”Ÿæˆçš„è½¬æ¢å¸ƒå±€æ–‡ä»¶ï¼‰ã€‚</li><li><strong>èµ„æºåŒæ­¥</strong>ï¼šè‡ªåŠ¨å°†å…³è”çš„å›¾ç‰‡ä»ä¸­é—´ç›®å½•å¤åˆ¶åˆ°æœ€ç»ˆè¾“å‡ºç›®å½•ï¼Œå¹¶ä¿®æ­£å›¾ç‰‡å¼•ç”¨è·¯å¾„ã€‚</li></ol><h2 id="init-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#init-å‡½æ•°"><span><code>__init__</code> å‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __init__</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">  </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">             output_dir</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">             intermediate_dir</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">intermediate</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">             )</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="init-å‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#init-å‚æ•°è¯´æ˜"><span>init å‚æ•°è¯´æ˜</span></a></h3><table><thead><tr><th>å‚æ•°å</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>output_dir</strong></td><td>str</td><td>å¿…éœ€</td><td>ç»“æ„åŒ–æ•°æ®åŠå›¾ç‰‡çš„æœ€ç»ˆè¾“å‡ºæ ¹ç›®å½•ã€‚</td></tr><tr><td><strong>intermediate_dir</strong></td><td>str</td><td>&quot;intermediate&quot;</td><td>ä¸­é—´ä»¶ç›®å½•ï¼Œç”¨äºå¯»æ‰¾ MinerU å¤„ç†åçš„åŸå§‹å›¾ç‰‡èµ„æºã€‚</td></tr></tbody></table><h2 id="xml-æ ‡ç­¾åè®®" tabindex="-1"><a class="header-anchor" href="#xml-æ ‡ç­¾åè®®"><span>XML æ ‡ç­¾åè®®</span></a></h2><p>ç®—å­é¢„è®¾ LLM ä¼šæŒ‰ç…§ä»¥ä¸‹ç»“æ„è¿”å›æ•°æ®ï¼š</p><ul><li><code>&lt;chapter&gt;</code>: ç« èŠ‚åŒºå—ï¼Œå†…å«æ ‡é¢˜å’Œå¤šä¸ª QA å¯¹ã€‚</li><li><code>&lt;title&gt;</code>: ç« èŠ‚æ ‡é¢˜å¯¹åº”çš„ <strong>ID</strong>ã€‚</li><li><code>&lt;qa_pair&gt;</code>: å•ä¸ªé—®ç­”å¯¹åŒºå—ã€‚</li><li><code>&lt;question&gt;</code> / <code>&lt;solution&gt;</code>: å¯¹åº”å†…å®¹çš„ <strong>ID</strong> åˆ—è¡¨ï¼ˆå¦‚ <code>1, 2, 5</code>ï¼‰ã€‚</li><li><code>&lt;answer&gt;</code>: ä» solution ä¸­æå–å‡ºçš„ç­”æ¡ˆï¼Œ<strong>æ˜¯å…·ä½“å†…å®¹ï¼Œä¸æ˜¯ID</strong></li><li><code>&lt;label&gt;</code>: é¢˜ç›®ç±»å‹æˆ–æ ‡ç­¾ä¿¡æ¯ï¼Œ<strong>æ˜¯çœŸå®åºå·ï¼Œä¸æ˜¯ID</strong>ã€‚</li></ul><h2 id="run-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#run-å‡½æ•°"><span><code>run</code> å‡½æ•°</span></a></h2><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-python"><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">self</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        storage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> DataFlowStorage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        input_response_path_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        input_converted_layout_path_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        input_name_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        output_qalist_path_key</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        )</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰§è¡Œè§£æé€»è¾‘ï¼šè¯»å– LLM å“åº”ï¼Œå¯¹ç…§å¸ƒå±€ JSON æ–‡ä»¶è¿˜åŸå†…å®¹ï¼Œä¿å­˜ä¸º JSONL æ ¼å¼ã€‚</p><h4 id="å‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#å‚æ•°è¯´æ˜"><span>å‚æ•°è¯´æ˜</span></a></h4><table><thead><tr><th>åç§°</th><th>ç±»å‹</th><th>é»˜è®¤å€¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>storage</strong></td><td>DataFlowStorage</td><td>å¿…éœ€</td><td>æ•°æ®æµå­˜å‚¨å®ä¾‹ã€‚</td></tr><tr><td><strong>input_response_path_key</strong></td><td>str</td><td>å¿…éœ€</td><td>LLM åŸå§‹å“åº”æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„åˆ—åã€‚</td></tr><tr><td><strong>input_converted_layout_path_key</strong></td><td>str</td><td>å¿…éœ€</td><td>è½¬æ¢åå¸ƒå±€æ–‡ä»¶ï¼ˆ<code>_converted.json</code>ï¼‰çš„è·¯å¾„åˆ—åã€‚</td></tr><tr><td><strong>input_name_key</strong></td><td>str</td><td>å¿…éœ€</td><td>ç”¨äºåŒºåˆ†ä»»åŠ¡çš„åç§°åˆ—ï¼Œå†³å®šäº†è¾“å‡ºæ–‡ä»¶å¤¹çš„å‘½åã€‚</td></tr><tr><td><strong>output_qalist_path_key</strong></td><td>str</td><td>å¿…éœ€</td><td>è¾“å‡º JSONL æ–‡ä»¶çš„è·¯å¾„åˆ—åã€‚</td></tr></tbody></table><h2 id="ğŸ§ -ç¤ºä¾‹é€»è¾‘" tabindex="-1"><a class="header-anchor" href="#ğŸ§ -ç¤ºä¾‹é€»è¾‘"><span>ğŸ§  ç¤ºä¾‹é€»è¾‘</span></a></h2><h3 id="_1-id-è¿˜åŸè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#_1-id-è¿˜åŸè¿‡ç¨‹"><span>1. ID è¿˜åŸè¿‡ç¨‹</span></a></h3><p>å‡è®¾ LLM è¿”å›ï¼š<code>&lt;question&gt;1, 3&lt;/question&gt;</code> ç®—å­ä¼šæŸ¥æ‰¾å¸ƒå±€ JSON ä¸­ <code>id</code> ä¸º 1 å’Œ 3 çš„é¡¹ï¼š</p><ul><li>å¦‚æœ <code>id: 1</code> æ˜¯æ–‡æœ¬ &quot;ä»€ä¹ˆæ˜¯ AIï¼Ÿ&quot;ï¼Œ<code>id: 3</code> æ˜¯å›¾ç‰‡ <code>path/to/img.png</code>ã€‚</li><li>è¿˜åŸåçš„å†…å®¹ä¸ºï¼š<code>ä»€ä¹ˆæ˜¯ AIï¼Ÿ\\n![image](vqa_images/img.png)</code>ã€‚</li></ul><h3 id="_2-è¾“å‡ºæ–‡ä»¶ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_2-è¾“å‡ºæ–‡ä»¶ç»“æ„"><span>2. è¾“å‡ºæ–‡ä»¶ç»“æ„</span></a></h3><p>æ‰§è¡Œåï¼Œ<code>cache_path</code> ä¸‹çš„ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-text"><span class="line"><span>cache_path/</span></span>
<span class="line"><span>â””â”€â”€ {name}/</span></span>
<span class="line"><span>    â”œâ”€â”€ extracted_questions.jsonl  # ç»“æ„åŒ–æ•°æ®</span></span>
<span class="line"><span>    â””â”€â”€ vqa_images/           # è‡ªåŠ¨åŒæ­¥è¿‡æ¥çš„å›¾ç‰‡</span></span>
<span class="line"><span>        â”œâ”€â”€ img1.png</span></span>
<span class="line"><span>        â””â”€â”€ ...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-jsonl-è¾“å‡ºç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_3-jsonl-è¾“å‡ºç¤ºä¾‹"><span>3. JSONL è¾“å‡ºç¤ºä¾‹</span></a></h3><div class="language-json line-numbers-mode" data-highlighter="shiki" data-ext="json" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-json"><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">question</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">è¯·çœ‹ä¸‹å›¾å¹¶åˆ†æï¼š</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\n</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">![image](vqa_images/img1.png)</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">answer</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">è¿™æ˜¯è§£æåçš„ç­”æ¡ˆæ–‡æœ¬</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">solution</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">è¯¦ç»†çš„è§£é¢˜æ­¥éª¤...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">label</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">chapter_title</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ç¬¬ä¸€ç«  åŸºç¡€æ¦‚è®º</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,25)]))}const p=i(e,[["render",l]]),r=JSON.parse('{"path":"/zh/api/operators/pdf2vqa/generate/llmoutputparser/","title":"LLMOutputParser","lang":"zh-CN","frontmatter":{"title":"LLMOutputParser","createTime":"2026/01/20 20:15:00","permalink":"/zh/api/operators/pdf2vqa/generate/llmoutputparser/"},"readingTime":{"minutes":2.1,"words":630},"git":{"createdTime":1769148661000,"updatedTime":1772028428000,"contributors":[{"name":"fatty-belly","username":"fatty-belly","email":"134311924+fatty-belly@users.noreply.github.com","commits":2,"avatar":"https://avatars.githubusercontent.com/fatty-belly?v=4","url":"https://github.com/fatty-belly"}]},"filePathRelative":"zh/notes/api/operators/pdf2vqa/generate/LLMOutputParser.md","headers":[]}');export{p as comp,r as data};

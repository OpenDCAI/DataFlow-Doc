---
title: PromptedVQAGenerator
createTime: 2025/10/09 16:52:48
permalink: /en/api/operators/core_vision/generate/promptedvqagenerator/
---

## ðŸ“˜ Overview

The `PromptedVQAGenerator` is an operator designed for visual question answering (VQA). It takes input containing images and corresponding questions, utilizes a large language model (LLM) to generate answers, and appends these answers to the data storage.

## `__init__`

```python
def __init__(self, llm_serving: LLMServingABC, system_prompt: str = "You are a helpful assistant.")
```

| Parameter | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| **llm_serving** | LLMServingABC | Required | An instance of a large language model serving class, used for executing inference. |
| **system_prompt** | str | "You are a helpful assistant." | The system prompt used to define the behavior of the model. |

### Prompt Template Descriptions

| Prompt Template Name | Primary Use | Applicable Scenarios | Feature Description |
| :--- | :--- | :--- | :--- |
| | | | |

## `run`

```python
def run(self, storage: DataFlowStorage, input_key: str = "raw_content", output_key: str = "generated_content")
```
Executes the main logic of the operator. It reads the input data from storage, generates answers using the LLM based on the visual and text prompts, and writes the results back to storage.

#### Parameters

| Name | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| **storage** | DataFlowStorage | Required | The data flow storage instance, responsible for reading and writing data. |
| **input_key** | str | "raw_content" | The name of the input column containing the visual and question data. |
| **output_key** | str | "generated_content" | The name of the output column where the generated answers will be stored. |

## ðŸ§  Example Usage

```python

```

#### ðŸ§¾ Default Output Format

| Field | Type | Description |
| :--- | :--- | :--- |
| raw_content | any | The original input data, typically containing image and question information. |
| generated_content | str | The VQA answer generated by the model. |

**Example Input:**
```json
{
    "raw_content": [
        {"type": "text", "text": "What color is the car in the image?"},
        {"type": "image_url", "image_url": {"url": "data:image/jpeg;base64,..."}}
    ]
}
```
**Example Output:**
```json
{
    "raw_content": [
        {"type": "text", "text": "What color is the car in the image?"},
        {"type": "image_url", "image_url": {"url": "data:image/jpeg;base64,..."}}
    ],
    "generated_content": "The car in the image is red."
}
```

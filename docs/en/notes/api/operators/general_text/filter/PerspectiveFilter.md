---
title: PerspectiveFilter
createTime: 2025/10/09 16:52:48
permalink: /en/api/operators/general_text/filter/perspectivefilter/
---

```markdown
## ðŸ“˜ Overview

The `PerspectiveFilter` is an operator designed to filter data based on toxicity scores provided by the Perspective API. It evaluates input text, assigns a toxicity score, and retains only the data that falls within a specified score range. This is useful for cleaning datasets and removing potentially harmful or toxic content.

## `__init__`

```python
def __init__(self, min_score: float = 0.0, max_score: float = 0.5)
```

| Parameter | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| **min_score** | float | 0.0 | The minimum toxicity score for a sample to be kept. |
| **max_score** | float | 0.5 | The maximum toxicity score for a sample to be kept. |

### Prompt Template Descriptions

| Prompt Template Name | Primary Use | Applicable Scenarios | Feature Description |
| :--- | :--- | :--- | :--- |
| | | | |

## `run`

```python
def run(self, storage: DataFlowStorage, input_key: str, output_key: str = 'PerspectiveScore')
```

| Parameter | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| **storage** | DataFlowStorage | Required | The DataFlow storage instance for reading and writing data. |
| **input_key** | str | Required | The name of the input column containing the text to be scored. |
| **output_key** | str | "PerspectiveScore" | The name of the output column where the generated toxicity score will be stored. |

## ðŸ§  Example Usage

```python

```

#### ðŸ§¾ Default Output Format

| Field | Type | Description |
| :--- | :--- | :--- |
| [input_key] | str | The original input text from the specified input column. |
| PerspectiveScore | float | The toxicity score generated by the Perspective API. |

**Example Input:**
```json
{
    "text_to_be_scored": "You are a wonderful person and I appreciate your help."
}
```

**Example Output:**
```json
{
    "text_to_be_scored": "You are a wonderful person and I appreciate your help.",
    "PerspectiveScore": 0.051234
}
```
```

---
title: RAREReasonDistillGenerator
createTime: 2025/10/09 16:52:48
permalink: /en/api/operators/rare/generate/rarereasondistillgenerator/
---

## ðŸ“˜ Overview

The `RAREReasonDistillGenerator` is an operator designed to distill reasoning capabilities from Large Language Models (LLMs). It functions by generating a detailed, step-by-step thought process. The operator takes a question, a scenario, a relevant positive document, and several hard negative documents as input to construct a prompt, which is then used to guide the LLM in generating the reasoning chain.

## `__init__`

```python
def __init__(self, llm_serving: LLMServingABC)
```

### `__init__` Parameters

| Parameter | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| **llm_serving** | LLMServingABC | Required | Large Language Model serving instance, used to execute inference and generation. |

### Prompt Template Descriptions

| Prompt Template Name | Primary Use | Applicable Scenarios | Feature Description |
| :--- | :--- | :--- | :--- |
| | | | |

## `run`

```python
def run(storage, input_text_key="text", input_question_key="question", input_scenario_key="scenario", input_hardneg_key="hard_negatives", output_key="reasoning")
```

Executes the operator's main logic. It reads an input DataFrame from storage, constructs prompts by combining the question, scenario, and documents, generates reasoning from the LLM, and writes the result back to storage.

#### Parameters

| Name | Type | Default | Description |
| :--- | :--- | :--- | :--- |
| **storage** | DataFlowStorage | Required | Data flow storage instance, responsible for reading and writing data. |
| **input_text_key** | str | "text" | Field name for the positive document. |
| **input_question_key** | str | "question" | Field name for the question. |
| **input_scenario_key** | str | "scenario" | Field name for the scenario. |
| **input_hardneg_key** | str | "hard_negatives" | Field name for the list of hard negatives. |
| **output_key** | str | "reasoning" | Field name for storing the generated reasoning. |

## ðŸ§  Example Usage

#### ðŸ§¾ Default Output Format

The operator adds a new column (specified by `output_key`) to the input dataframe. This new column contains the reasoning string generated by the LLM.

**Example Input:**

**Example Output:**
